<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Met Links | The Northeast Golf Company</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@200;300;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #ffffff;
            --text-main: #1a1a1a;
            --text-gray: #777777;
            --nav-gray: #555555; 
            --address-gray: #888888;
            --akrobat-reg: 400;
            --akrobat-light: 300;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Barlow Semi Condensed', sans-serif;
            overflow: hidden; 
            height: 100vh;
            width: 100vw;
        }

        .fixed-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-image: url('../../index/Topo_Whitinsville.jpg'); 
            background-size: cover;
            background-position: center;
            z-index: -1;
            opacity: 0.15; 
            pointer-events: none;
        }

        /* --- LAYOUT --- */
        .project-wrapper {
            display: flex;
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        /* --- LEFT PANEL (FIXED) --- */
        .info-panel {
            width: 40%;
            height: 100%;
            position: relative; 
            display: flex;
            flex-direction: column;
            padding-top: 15vh; 
            padding-left: 8vw;
            padding-right: 4%;
            z-index: 10;
        }

        /* 1. TITLE & LOCATION */
        .static-header {
            margin-bottom: 5vh; 
            flex-shrink: 0;
        }

        h1 {
            font-size: 3.5rem;
            font-weight: var(--akrobat-reg);
            text-transform: uppercase;
            letter-spacing: 0.1rem;
            line-height: 0.9;
            margin-bottom: 10px;
        }

        .location-sub {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--nav-gray);
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            display: inline-block;
            width: fit-content;
        }

        /* 2. DYNAMIC CONTENT */
        .dynamic-content-wrapper {
            flex-grow: 1;
        }

        .section-subtitle {
            font-size: 1.4rem;
            color: var(--text-main);
            font-weight: var(--akrobat-reg);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 25px; 
            transition: opacity 0.5s ease-in-out;
            opacity: 1;
            min-height: 1.5rem; 
        }

        .description-text {
            font-weight: var(--akrobat-light);
            color: var(--text-gray);
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 450px;
            transition: opacity 0.5s ease-in-out;
            opacity: 1;
        }
        
        .fading {
            opacity: 0;
        }

        /* 3. DYNAMIC LINK (Moved to flow) */
        .dynamic-link {
            display: inline-block;
            margin-top: 20px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-main);
            text-decoration: none;
            border-bottom: 1px solid var(--text-main);
            padding-bottom: 2px;
            transition: opacity 0.5s ease-in-out, color 0.3s ease;
            cursor: pointer;
        }

        .dynamic-link:hover {
            color: var(--nav-gray);
            border-bottom-color: var(--nav-gray);
        }

        .dynamic-link.hidden {
            display: none;
        }

        /* --- RIGHT PANEL (SCROLL) --- */
        .scroll-container {
            width: 60%;
            height: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            display: flex;
            align-items: center;
            padding-right: 10%;
            scrollbar-width: none;
            -ms-overflow-style: none;
            -webkit-mask-image: linear-gradient(to right, transparent 0%, black 15%, black 100%);
            mask-image: linear-gradient(to right, transparent 0%, black 15%, black 100%);
        }
        .scroll-container::-webkit-scrollbar { display: none; }

        .gallery-track {
            display: flex;
            gap: 6vw; 
            align-items: center;
            padding-right: 15vw;
            padding-left: 12vw; 
        }

        /* --- GALLERY ITEMS --- */
        .gallery-item {
            position: relative;
            flex-shrink: 0;
            width: 35vw; 
            height: 45vh;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            opacity: 0.3;
            transform: scale(0.85); 
            filter: grayscale(100%);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .gallery-item iframe {
            width: 100%;
            height: 100%;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            pointer-events: none; /* Scroll fix */
        }
        
        /*
        .gallery-item.active iframe {
            pointer-events: auto; 
        }
        */

        .gallery-item:nth-child(odd) { margin-top: -8vh; }
        .gallery-item:nth-child(even) { margin-top: 8vh; }

        .gallery-item.active {
            opacity: 1;
            transform: scale(1.05); 
            filter: grayscale(0%);
            z-index: 5;
        }

        /* Landscape Aspect Ratio for Videos/Plan */
        .gallery-item.landscape-item {
            aspect-ratio: 16 / 9;
            width: auto;
            height: 45vh; /* Keep height consistent, let width adjust */
        }
        .gallery-item.landscape-item img {
            object-fit: contain; /* Ensure full image visibility */
            background: #000; /* Optional: letterbox for non-16:9 images */
        }
        .gallery-item.landscape-item iframe {
            width: 100%;
            height: 100%;
        }

        /* Plan Item - Auto Width / No Bars */
        .gallery-item.plan-item {
            width: auto;
            aspect-ratio: auto;
        }
        .gallery-item.plan-item img {
            width: auto;
            height: 100%;
            object-fit: contain;
            background: none;
        }

        /* CTA Button - Updated to Fixed Bottom */
        .cta-btn-left-fixed {
            position: absolute;
            bottom: 12vh; /* Use vh for consistency */
            left: 8vw;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-main);
            text-decoration: none;
            border-bottom: 1px solid var(--text-main);
            padding-bottom: 2px;
            transition: color 0.3s ease;
            cursor: pointer;
            z-index: 20;
        }
        .cta-btn-left-fixed:hover {
            color: var(--nav-gray);
            border-bottom-color: var(--nav-gray);
        }

        /* Back Link - Updated to Bottom */
        .back-projects-link-bottom {
            position: absolute;
            bottom: 8vh; /* Below Tee Time button */
            left: 8vw;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--nav-gray);
            font-size: 0.8rem;
            border-bottom: 1px solid transparent;
            transition: color 0.3s ease;
            z-index: 20;
        }
        .back-projects-link-bottom:hover {
            color: var(--text-main);
            border-bottom-color: var(--text-main);
        }

        /* --- NEXT PROJECT BTN --- */
        .next-project-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px; 
            min-width: 25vw; 
            opacity: 0;
            transition: opacity 1s ease;
        }
        .next-project-wrapper.visible { opacity: 1; }

        .text-link-large {
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-size: 1.4rem; 
            color: var(--text-main);
            border-bottom: 1px solid var(--text-main); 
            padding-bottom: 5px;
            transition: color 0.3s ease;
            white-space: nowrap;
        }
        .text-link-small {
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.9rem;
            color: var(--nav-gray);
            border-bottom: 1px solid var(--nav-gray);
            padding-bottom: 2px;
            transition: color 0.3s ease;
            white-space: nowrap;
            cursor: pointer;
        }

        .mobile-caption {
            display: none;
        }

        /* --- FIXED NAV --- */
        .fixed-nav-container {
            position: fixed;
            bottom: 50px; 
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            z-index: 2000;
            pointer-events: none;
        }

        .nav-logo-item {
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
        }

        .nav-logo-item img {
            height: 60px;
            width: auto;
            opacity: 0.9;
            transition: opacity 0.3s ease;
            margin-top: -15px;
            cursor: pointer;
        }

        .nav-logo-item img:hover {
            opacity: 1;
        }

        .nav-links, .nav-address {
            pointer-events: auto;
        }

        .nav-links { 
            display: flex; 
            gap: 40px; 
            list-style: none; 
            justify-content: center;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--nav-gray);
            font-size: 0.85rem;
            font-weight: var(--akrobat-light);
            letter-spacing: 0.2rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .nav-links a:hover { color: var(--text-main); }
        .nav-address { 
            color: var(--address-gray); 
            font-size: 0.75rem; 
            letter-spacing: 0.15rem; 
            text-transform: uppercase; 
            font-weight: var(--akrobat-light); 
        }

        /* RESPONSIVE */
        @media (max-width: 1300px) {
            /* Layout Conversion */
            .project-wrapper {
                flex-direction: column;
                overflow: hidden;
                height: 100vh;
            }

            .info-panel {
                width: 100%;
                height: auto;
                padding: 100px 5% 30px 5%;
                display: block;
                position: static;
                flex-shrink: 0;
            }

            .static-header { margin-bottom: 25px; }

            h1 { font-size: 2.8rem; }

            /* Hide static dynamic text in header on mobile - it now scrolls with images */
            .dynamic-content-wrapper, #dynamic-link {
                display: none !important;
            }

            .scroll-container {
                width: 100%;
                flex-grow: 1;
                overflow-y: auto;
                padding: 20px 5% 250px;
                display: block;
                -webkit-mask-image: linear-gradient(to bottom, black 0%, black 65%, transparent 85%);
                mask-image: linear-gradient(to bottom, black 0%, black 65%, transparent 85%);
            }

            .gallery-track {
                flex-direction: column;
                gap: 40px;
                padding-left: 0;
                padding-right: 0;
                width: 100%;
                align-items: center;
            }

            .gallery-item {
                width: 90%;
                max-width: 500px;
                height: auto;
                min-height: 250px;
                margin-top: 0 !important;
                opacity: 1;
                filter: none;
                transform: none;
            }

            .mobile-caption {
                display: block !important;
                margin-top: 25px;
                text-align: center;
                padding-bottom: 30px;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }

            .mobile-caption h3 {
                font-family: 'Barlow Semi Condensed', sans-serif;
                font-size: clamp(1.2rem, 4vw, 1.5rem);
                font-weight: 400;
                margin-bottom: 12px;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: var(--text-main);
            }

            .mobile-caption p {
                font-family: 'Barlow Semi Condensed', sans-serif;
                font-size: clamp(0.95rem, 3.5vw, 1.1rem);
                color: var(--text-gray);
                line-height: 1.6;
                margin-bottom: 15px;
                font-weight: 300;
            }

            .mobile-caption a {
                display: inline-block;
                font-size: 0.85rem;
                text-transform: uppercase;
                letter-spacing: 1.5px;
                color: var(--text-main);
                text-decoration: none;
                border-bottom: 1px solid var(--text-main);
                padding-bottom: 2px;
                margin-top: 5px;
            }

            /* Navigation Fixes */
            .fixed-nav-container { bottom: 30px; }
            
            .nav-logo-item {
                position: absolute;
                left: 15px;
                top: 50%;
                transform: translateY(-50%);
            }

            .nav-logo-item img {
                height: 60px;
                margin-top: -15px;
            }

            .nav-links {
                gap: 15px;
                flex-wrap: wrap;
                margin-bottom: 5px;
                padding-left: 85px;
                justify-content: center;
            }

            .nav-address {
                font-size: 0.7rem;
                padding: 0 15px;
                margin-top: 0;
                letter-spacing: 0.1rem;
                text-align: center;
            }

            /* Next Project Section */
            .next-project-wrapper {
                opacity: 1;
                padding: 30px 0 120px 0;
            }

            /* Mobile adjustments for new links */
            .cta-btn-left-fixed, .back-projects-link-bottom {
                position: static;
                display: block;
                margin-top: 20px;
            }
        }

        /* iPhone Notch Support */
        @supports (padding: env(safe-area-inset-bottom)) {
            .fixed-nav-container {
                padding-bottom: env(safe-area-inset-bottom);
            }
        }

    </style>
</head>
<body>

    <div class="fixed-background"></div>

    <div class="project-wrapper">
        
        <div class="info-panel">
            <div class="static-header">
                <h1>Met Links</h1>
                <span class="location-sub">East Providence, Rhode Island</span>
            </div>
            
            <div class="dynamic-content-wrapper">
                <h2 class="section-subtitle" id="dynamic-subtitle">Project History</h2>
                
                <p class="description-text" id="dynamic-description">
                    Formerly Metacomet Country Club, this Leonard Byles (1901) / Donald Ross (1924) design was a standout in Rhode Island golf. Playing along Watchemoket Cove, the course hosted many championships and qualifiers, and was loved by members and the community. In 2020 the club closed and the land was purchased for development by Marshall Properties, who had great desire that at least part of this historic course was preserved and restored for the benefit of the public.
                    <br><br>
                    Robert McNeil and the Northeast Golf Company were brought on to restore most of the front 9 holes and reroute the course to meet the goals for the property. Construction began June 2023 with Met Links officially opening to the public in 2024.
                </p>

                <a id="dynamic-link" href="#" class="dynamic-link hidden">Learn More</a>
            </div>

            <!-- Fixed Bottom Links -->
            <a href="https://foreupsoftware.com/index.php/booking/22800/11966#teetimes" class="cta-btn-left-fixed" target="_blank">Book a Tee Time</a>
            <a href="../../landing_page.html" class="back-projects-link-bottom">&larr; Back to Projects</a>
        </div>

        <div class="scroll-container" id="scrollContainer">
            <div class="gallery-track">
                
                <div class="gallery-item landscape-item" 
                     data-subtitle="The History of Met Links"
                     data-description='Explore the rich history of the former Metacomet Country Club and its transformation into Met Links. This video captures the legacy of Donald Ross and the vision for preserving golf on this historic site.'
                     data-link-text=""
                     data-link-url="">
                    <iframe src="https://www.youtube.com/embed/-0L_VQHTwyA" 
                            title="Met Links History" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                    </iframe>
                </div>

                <div class="gallery-item landscape-item" 
                     data-subtitle="Met Links Construction"
                     data-description="Witness the restoration process as Robert McNeil and the Northeast Golf Company bring the Donald Ross vision back to life. From green reconstruction to rerouting, this video showcases the expert craftsmanship behind Met Links."
                     data-link-text=""
                     data-link-url="">
                    <iframe src="https://www.youtube.com/embed/UstmHbUU-T4" 
                            title="Met Links Construction" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                    </iframe>
                </div>

                <div class="gallery-item plan-item" 
                     data-subtitle="The Restoration Plan"
                     data-description="The restoration focused on preserving the original front nine holes designed by Donald Ross while integrating new elements to create a comprehensive nine-hole golf experience. The Northeast Golf Company worked to recapture the historical Ross concept, saving five additional greens and the practice putting green. The project required creative rerouting to fit nine holes into the available seven-hole space, with old members in mind throughout the development process."
                     data-link-text="View the Master Plan"
                     data-link-url="met_links_plan.html">
                    <img src="Met_Links_Plan.png" alt="Met Links Master Plan">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Before the Restoration"
                     data-description="Prior to the restoration, Metacomet Country Club had been closed since 2020. The property faced an uncertain future with initial development plans calling for retail and residential construction. Community advocacy and Marshall Properties' commitment to preserving golf on the site led to the partnership with Northeast Golf Company to bring new life to this historic Donald Ross design."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (2).jpg" alt="Met Links Before">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Construction Progress"
                     data-description="The construction phase began in June 2023 under the guidance of Robert McNeil, ASGCA, and NMP Golf Construction. The project involved careful restoration of the original Ross greens, strategic bunker placement, and sensitive integration of new holes that complement the historic layout. Golf Course Superintendent Paul Jamrog, who had previously worked at Metacomet, returned to oversee the transformation."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (3).jpg" alt="Construction Progress">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Restored Green Complexes"
                     data-description="The restoration preserved seven of the original Donald Ross holes, maintaining the classic green complexes that made Metacomet famous. Ross's signature back-to-front sloped greens and strategic bunkering were carefully restored, respecting the design heritage while ensuring modern playability and maintenance standards."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (4).jpg" alt="Green Complex">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Watchemoket Cove Views"
                     data-description="Playing along Watchemoket Cove provides stunning water views and dramatic elevation changes throughout the round. The natural setting along the cove was a key element of Ross's original design, and these vistas have been preserved and enhanced in the restoration, creating memorable golf experiences on every hole."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (5).jpg" alt="Cove Views">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Natural Terrain & Features"
                     data-description="The course features dramatic elevation changes and natural terrain that create both challenge and beauty. Robert McNeil's restoration work emphasized finding and preserving the hidden values within the landscape, allowing the natural features of the property to shine through in the final design."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (6).jpg" alt="Natural Features">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Bunkering & Strategy"
                     data-description="Strategic bunker placement defines the character of Met Links. The restoration maintained Ross's philosophies on strategic architecture while ensuring the bunkers are properly maintained and visually appealing. Each bunker serves a specific strategic purpose, rewarding thoughtful play."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (7).jpg" alt="Strategic Bunkering">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Course Conditions"
                     data-description="Met Links features spectacular playing conditions under the care of Golf Course Superintendent Paul Jamrog. The course demonstrates that a public nine-hole facility can maintain championship-caliber conditions while remaining accessible to golfers of all skill levels. The commitment to excellence is evident in every detail."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (8).jpg" alt="Course Conditions">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Community Golf"
                     data-description="Met Links stands as a testament to the power of community advocacy and thoughtful development. What began as a potential loss of historic golf land transformed into a success story of preservation. The course now serves the East Providence community and greater Rhode Island as an accessible, high-quality public golf experience."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (9).jpg" alt="Community Golf">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Restored Ross Greens"
                     data-description="The Donald Ross greens are the crown jewels of Met Links. Each green features the subtle contours and strategic pin positions that made Ross one of history's greatest architects. The restoration process carefully preserved these features while ensuring modern maintenance capabilities and excellent playing surfaces."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (10).jpg" alt="Ross Greens">

                </div>

                <div class="gallery-item" 
                     data-subtitle="The Met Links Experience"
                     data-description="Met Links in East Providence represents the rebirth of Rhode Island golf history. This par-34, nine-hole course combines Donald Ross's classic design with Robert McNeil's thoughtful restoration, creating one of the best nine-hole courses in the region. With beautiful elevation changes, wonderful vistas, and spectacular conditions, Met Links proves that preservation and progress can work hand in hand."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (11).jpg" alt="Met Links Experience">

                </div>

                <div class="gallery-item" 
                     data-subtitle="Open for Play"
                     data-description="Met Links is now open to the public, offering tee times for golfers of all skill levels. The course provides an exceptional golf experience that honors the rich history of Metacomet while creating new memories for future generations. Rhode Island's newest golf course is a celebration of classic design, thoughtful restoration, and community spirit."
                     data-link-text=""
                     data-link-url="">
                    <img src="Met_Links_Image_After (12).jpg" alt="Met Links Today">

                </div>

                <div class="next-project-wrapper" id="nextBtn">
                    <a href="../Bass_Rocks/bass_rocks.html" class="text-link-large">Next Project</a>
                    <a href="#" onclick="navigateTo(event, 'projects-section')" class="text-link-small">All Projects</a>
                </div>

            </div>
        </div>

    </div>

    <div class="fixed-nav-container">
        <nav>
            <ul class="nav-links">
                <li class="nav-logo-item">
                    <img src="../../index/NGC_Logo.png" alt="NGC Logo" onclick="navigateTo(event, 'start')">
                </li>
                <li><a href="#" onclick="navigateTo(event, 'start')">Start</a></li>
                <li><a href="#" onclick="navigateTo(event, 'what-we-do')">What We Do</a></li>
                <li><a href="#" onclick="navigateTo(event, 'team-intro')">Team</a></li>
                <li><a href="#" onclick="navigateTo(event, 'projects-section')">Projects</a></li>
                <li><a href="#" onclick="navigateTo(event, 'contact')">Contact</a></li>
            </ul>
        </nav>
        <div class="nav-address">THE NORTHEAST GOLF COMPANY, 118 SAUNDERSTOWN, RHODE ISLAND 02874</div>
    </div>

    <script>
        // 1. Navigation Helper
        function navigateTo(e, sectionId) {
            e.preventDefault(); 
            sessionStorage.setItem('scrollTarget', sectionId);
            window.location.href = '../../landing_page.html'; 
        }

        // 2. Horizontal Scroll on Mouse Wheel
        const scrollContainer = document.getElementById('scrollContainer');
        scrollContainer.addEventListener('wheel', (evt) => {
            if (window.innerWidth > 900) {
                if (evt.deltaY !== 0) {
                    evt.preventDefault();
                    scrollContainer.scrollLeft += evt.deltaY;
                } else if (evt.deltaX !== 0) {
                     // Allow native horizontal scroll but prevent page swipe back
                    evt.preventDefault();
                    scrollContainer.scrollLeft += evt.deltaX;
                }
            }
        });

        // 3. Dynamic Text & Link Logic
        const subtitleElement = document.getElementById('dynamic-subtitle');
        const descriptionElement = document.getElementById('dynamic-description');
        const linkElement = document.getElementById('dynamic-link');
        
        let currentDescription = descriptionElement.innerHTML.trim(); 

        const observerOptions = {
            root: scrollContainer,
            rootMargin: window.innerWidth > 1300 ? '0px -25% 0px -25%' : '-25% 0px -25% 0px',
            threshold: 0.2
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    
                    if (entry.target.classList.contains('gallery-item')) {
                        // Gather data
                        const newSubtitle = entry.target.getAttribute('data-subtitle');
                        const newText = entry.target.getAttribute('data-description');
                        const newLinkText = entry.target.getAttribute('data-link-text');
                        const newLinkUrl = entry.target.getAttribute('data-link-url');
                        
                        updateContent(newSubtitle, newText, newLinkText, newLinkUrl);
                    } else if (entry.target.classList.contains('next-project-wrapper')) {
                        entry.target.classList.add('visible');
                    }
                } else {
                    entry.target.classList.remove('active');
                }
            });
        }, observerOptions);

        function updateContent(subtitle, text, linkText, linkUrl) {
            if (text && text !== currentDescription) {
                currentDescription = text; 
                
                // Fade Out
                subtitleElement.classList.add('fading');
                descriptionElement.classList.add('fading');
                linkElement.classList.add('fading');
                
                setTimeout(() => {
                    // Update Content
                    subtitleElement.textContent = subtitle;
                    descriptionElement.innerHTML = text;
                    
                    if (linkText && linkText.trim() !== "") {
                        linkElement.textContent = linkText;
                        linkElement.href = linkUrl || "#";
                        linkElement.classList.remove('hidden'); 
                    } else {
                        linkElement.classList.add('hidden'); 
                    }

                    // Fade In
                    subtitleElement.classList.remove('fading');
                    descriptionElement.classList.remove('fading');
                    linkElement.classList.remove('fading');

                }, 500); 
            }
        }

        document.querySelectorAll('.gallery-item').forEach(item => observer.observe(item));
        observer.observe(document.getElementById('nextBtn'));

        // 4. Mobile Caption Generator
        function initMobileCaptions() {
            const items = document.querySelectorAll('.gallery-item');
            items.forEach(item => {
                const subtitle = item.getAttribute('data-subtitle');
                const desc = item.getAttribute('data-description');
                const linkText = item.getAttribute('data-link-text');
                const linkUrl = item.getAttribute('data-link-url');
                
                if (subtitle || desc) {
                    const caption = document.createElement('div');
                    caption.className = 'mobile-caption';
                    
                    let html = '';
                    if (subtitle) html += `<h3>${subtitle}</h3>`;
                    if (desc) html += `<p>${desc}</p>`;
                    if (linkText && linkUrl) html += `<a href="${linkUrl}">${linkText}</a>`;
                    
                    caption.innerHTML = html;
                    item.appendChild(caption);
                }
            });
        }
        
        // Run on load
        initMobileCaptions();

    </script>

</body>
</html>